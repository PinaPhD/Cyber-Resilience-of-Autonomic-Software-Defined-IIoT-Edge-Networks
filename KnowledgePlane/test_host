#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
Created on Thu Apr  3 16:15:59 2025

@author: amwangi
"""

import requests
import json

# ONOS REST credentials and host
onos_ip = "10.10.10.43"
onos_user = "onos"
onos_pass = "rocks"

# Target host ID
host_id = "00:00:00:00:00:38/None"

# New IP addresses to assign
new_ip_addresses = [
    "192.168.10.23",
    "192.168.10.56",
    "192.168.10.89"
]

# Configuration payload
payload = {
    "hosts": {
        host_id: {
            "ipAddresses": new_ip_addresses
        }
    }
}

# URL to push configuration
url = f"http://{onos_ip}:8181/onos/v1/network/configuration/"

headers = {
    "Content-Type": "application/json"
}

response = requests.post(url, headers=headers, auth=(onos_user, onos_pass), data=json.dumps(payload))

# Check result
if response.status_code in [200, 201]:
    print("✅ Host IP addresses successfully updated.")
else:
    print(f"❌ Failed to update host IPs. Status: {response.status_code}")
    print("Response:", response.text)
